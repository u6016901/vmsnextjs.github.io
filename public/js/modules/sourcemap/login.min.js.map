{"version":3,"sources":["login.js"],"names":["$","UnicampPopupPlugin","$el","options","this","ACTIVE_CLASS","init","plugin","on","e","preventDefault","stopPropagation","close","open","UnicampPopup","addClass","removeClass","fn","methodOrOptions","method","undefined","UnicampPopups","each","data","push","args","arguments","length","Array","prototype","slice","call","results","index","console","warn","info","result","apply","jQuery","document","ready","messages","$unicampLogin","validatorMessages","extend","validator","required","remote","email","url","date","dateISO","number","digits","creditcard","equalTo","accept","maxlength","format","minlength","rangelength","range","max","min","$body","$popupPreLoader","$popupLogin","$popupRegister","$popupLostPassword","handlerLogin","hasClass","ajax","$unicamp","ajaxurl","type","cache","dataType","action","template","success","response","find","html","removeAttr","validate","rules","user_login","password","submitHandler","form","$form","serialize","show","redirect_url","window","location","href","reload","beforeSend","hide","complete","error","MLHttpRequest","textStatus","errorThrown","log","firstname","lastname","username","password2","submit","$popup","fullname","redirect","groupField","parent","pwField","children","attr"],"mappings":"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","file":"../../login.min.js","sourcesContent":["(\n\tfunction( $ ) {\n\t\t'use strict';\n\n\t\tvar UnicampPopupPlugin = function( $el, options ) {\n\t\t\tthis.ACTIVE_CLASS = 'open';\n\n\t\t\tthis.init = function() {\n\t\t\t\tvar plugin = this;\n\n\t\t\t\t$el.on( 'click', '.popup-overlay, .button-close-popup', function( e ) {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\te.stopPropagation();\n\n\t\t\t\t\tplugin.close();\n\t\t\t\t} );\n\t\t\t};\n\n\t\t\tthis.open = function() {\n\t\t\t\tvar plugin = this;\n\n\t\t\t\t$( '.unicamp-popup' ).UnicampPopup( 'close' );\n\n\t\t\t\t$el.addClass( plugin.ACTIVE_CLASS );\n\t\t\t};\n\n\t\t\tthis.close = function() {\n\t\t\t\tvar plugin = this;\n\n\t\t\t\t$el.removeClass( plugin.ACTIVE_CLASS );\n\t\t\t};\n\t\t};\n\n\t\t$.fn.UnicampPopup = function( methodOrOptions ) {\n\t\t\tvar method = (\n\t\t\t\ttypeof methodOrOptions === 'string'\n\t\t\t) ? methodOrOptions : undefined;\n\n\t\t\tif ( method ) {\n\t\t\t\tvar UnicampPopups = [];\n\n\t\t\t\tthis.each( function() {\n\t\t\t\t\tvar $el = $( this );\n\t\t\t\t\tvar UnicampPopup = $el.data( 'UnicampPopup' );\n\t\t\t\t\tUnicampPopups.push( UnicampPopup );\n\t\t\t\t} );\n\n\t\t\t\tvar args = (\n\t\t\t\t\targuments.length > 1\n\t\t\t\t) ? Array.prototype.slice.call( arguments, 1 ) : undefined;\n\n\t\t\t\tvar results = [];\n\n\t\t\t\tthis.each( function( index ) {\n\t\t\t\t\tvar UnicampPopup = UnicampPopups[ index ];\n\n\t\t\t\t\tif ( ! UnicampPopup ) {\n\t\t\t\t\t\tconsole.warn( '$.UnicampPopup not instantiated yet' );\n\t\t\t\t\t\tconsole.info( this );\n\t\t\t\t\t\tresults.push( undefined );\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( typeof UnicampPopup[ method ] === 'function' ) {\n\t\t\t\t\t\tvar result = UnicampPopup[ method ].apply( UnicampPopup, args );\n\t\t\t\t\t\tresults.push( result );\n\t\t\t\t\t} else {\n\t\t\t\t\t\tconsole.warn( 'Method \\'' + method + '\\' not defined in $.UnicampPopup' );\n\t\t\t\t\t}\n\t\t\t\t} );\n\n\t\t\t\treturn (\n\t\t\t\t\tresults.length > 1\n\t\t\t\t) ? results : results[ 0 ];\n\t\t\t} else {\n\t\t\t\tvar options = (\n\t\t\t\t\ttypeof methodOrOptions === 'object'\n\t\t\t\t) ? methodOrOptions : undefined;\n\n\t\t\t\treturn this.each( function() {\n\t\t\t\t\tvar $el = $( this );\n\t\t\t\t\tvar UnicampPopup = new UnicampPopupPlugin( $el, options );\n\n\t\t\t\t\t$el.data( 'UnicampPopup', UnicampPopup );\n\n\t\t\t\t\tUnicampPopup.init();\n\t\t\t\t} );\n\t\t\t}\n\t\t};\n\t}( jQuery )\n);\n\n(\n\tfunction( $ ) {\n\t\t'use strict';\n\n\t\t$( document ).ready( function() {\n\t\t\tvar messages = $unicampLogin.validatorMessages;\n\n\t\t\tjQuery.extend( jQuery.validator.messages, {\n\t\t\t\trequired: messages.required,\n\t\t\t\tremote: messages.remote,\n\t\t\t\temail: messages.email,\n\t\t\t\turl: messages.url,\n\t\t\t\tdate: messages.date,\n\t\t\t\tdateISO: messages.dateISO,\n\t\t\t\tnumber: messages.number,\n\t\t\t\tdigits: messages.digits,\n\t\t\t\tcreditcard: messages.creditcard,\n\t\t\t\tequalTo: messages.equalTo,\n\t\t\t\taccept: messages.accept,\n\t\t\t\tmaxlength: jQuery.validator.format( messages.maxlength ),\n\t\t\t\tminlength: jQuery.validator.format( messages.minlength ),\n\t\t\t\trangelength: jQuery.validator.format( messages.rangelength ),\n\t\t\t\trange: jQuery.validator.format( messages.range ),\n\t\t\t\tmax: jQuery.validator.format( messages.max ),\n\t\t\t\tmin: jQuery.validator.format( messages.min )\n\t\t\t} );\n\n\t\t\tvar $body = $( 'body' );\n\t\t\tvar $popupPreLoader = $( '#popup-pre-loader' );\n\t\t\tvar $popupLogin = $( '#popup-user-login' );\n\t\t\tvar $popupRegister = $( '#popup-user-register' );\n\t\t\tvar $popupLostPassword = $( '#popup-user-lost-password' );\n\n\n\t\t\t$( '.unicamp-popup' ).UnicampPopup();\n\n\t\t\tif ( $body.hasClass( 'required-login' ) && ! $body.hasClass( 'logged-in' ) ) {\n\t\t\t\thandlerLogin();\n\t\t\t}\n\n\t\t\t$body.on( 'click', '.open-popup-login', function( e ) {\n\t\t\t\te.preventDefault();\n\t\t\t\te.stopPropagation();\n\n\t\t\t\thandlerLogin();\n\t\t\t} );\n\n\t\t\t$body.on( 'click', '.open-popup-register', function( e ) {\n\t\t\t\te.preventDefault();\n\t\t\t\te.stopPropagation();\n\n\t\t\t\thandlerRegister();\n\t\t\t} );\n\n\t\t\t$body.on( 'click', '.open-popup-lost-password', function( e ) {\n\t\t\t\te.preventDefault();\n\t\t\t\te.stopPropagation();\n\n\t\t\t\thandlerLostPassword();\n\t\t\t} );\n\n\t\t\t$body.on( 'click', '.open-popup-instructor-register', function( e ) {\n\t\t\t\te.preventDefault();\n\t\t\t\te.stopPropagation();\n\n\t\t\t\thandlerInstructorRegister();\n\t\t\t} );\n\n\t\t\t$body.on( 'click', '.btn-pw-toggle', function( e ) {\n\t\t\t\te.preventDefault();\n\t\t\t\te.stopPropagation();\n\n\t\t\t\tvar groupField = $( this ).parent( '.form-input-password' );\n\t\t\t\tvar pwField = groupField.children( 'input' );\n\n\t\t\t\tif ( 'password' === pwField.attr( 'type' ) ) {\n\t\t\t\t\tpwField.attr( 'type', 'text' );\n\t\t\t\t\tgroupField.addClass( 'show-pw' );\n\t\t\t\t} else {\n\t\t\t\t\tpwField.attr( 'type', 'password' );\n\t\t\t\t\tgroupField.removeClass( 'show-pw' );\n\t\t\t\t}\n\t\t\t} );\n\n\t\t\tfunction handlerLogin() {\n\t\t\t\tif ( $popupLogin.hasClass( 'popup-loaded' ) ) {\n\t\t\t\t\t$popupLogin.UnicampPopup( 'open' );\n\t\t\t\t} else {\n\t\t\t\t\t$.ajax( {\n\t\t\t\t\t\turl: $unicamp.ajaxurl,\n\t\t\t\t\t\ttype: 'GET',\n\t\t\t\t\t\tcache: false,\n\t\t\t\t\t\tdataType: 'html',\n\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\taction: 'unicamp_lazy_load_template',\n\t\t\t\t\t\t\ttemplate: $popupLogin.data( 'template' )\n\t\t\t\t\t\t},\n\t\t\t\t\t\tsuccess: function( response ) {\n\t\t\t\t\t\t\t$popupLogin.find( '.popup-content-inner' ).html( response );\n\t\t\t\t\t\t\t$popupLogin.addClass( 'popup-loaded' );\n\t\t\t\t\t\t\t$popupLogin.UnicampPopup( 'open' );\n\n\t\t\t\t\t\t\t// Remove inline css.\n\t\t\t\t\t\t\t$popupLogin.find( '.mo-openid-app-icons .mo_btn-social' ).removeAttr( 'style' );\n\t\t\t\t\t\t\t$popupLogin.find( '.mo-openid-app-icons .mo_btn-social .mofa' ).removeAttr( 'style' );\n\t\t\t\t\t\t\t$popupLogin.find( '.mo-openid-app-icons .mo_btn-social svg' ).removeAttr( 'style' );\n\n\t\t\t\t\t\t\tvar $loginForm = $popupLogin.find( '#unicamp-login-form' );\n\t\t\t\t\t\t\t$loginForm.validate( {\n\t\t\t\t\t\t\t\trules: {\n\t\t\t\t\t\t\t\t\tuser_login: {\n\t\t\t\t\t\t\t\t\t\trequired: true\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\tpassword: {\n\t\t\t\t\t\t\t\t\t\trequired: true,\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tsubmitHandler: function( form ) {\n\t\t\t\t\t\t\t\t\tvar $form = $( form );\n\n\t\t\t\t\t\t\t\t\t$.ajax( {\n\t\t\t\t\t\t\t\t\t\turl: $unicamp.ajaxurl,\n\t\t\t\t\t\t\t\t\t\ttype: 'POST',\n\t\t\t\t\t\t\t\t\t\tcache: false,\n\t\t\t\t\t\t\t\t\t\tdataType: 'json',\n\t\t\t\t\t\t\t\t\t\tdata: $form.serialize(),\n\t\t\t\t\t\t\t\t\t\tsuccess: function( response ) {\n\t\t\t\t\t\t\t\t\t\t\tif ( ! response.success ) {\n\t\t\t\t\t\t\t\t\t\t\t\t$form.find( '.form-response-messages' ).html( response.messages ).addClass( 'error' ).show();\n\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\t$form.find( '.form-response-messages' ).html( response.messages ).addClass( 'success' ).show();\n\n\t\t\t\t\t\t\t\t\t\t\t\tif ( '' !== response.redirect_url ) {\n\t\t\t\t\t\t\t\t\t\t\t\t\twindow.location.href = response.redirect_url;\n\t\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\t\tlocation.reload();\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\tbeforeSend: function() {\n\t\t\t\t\t\t\t\t\t\t\t$form.find( '.form-response-messages' ).html( '' ).removeClass( 'error success' ).hide();\n\t\t\t\t\t\t\t\t\t\t\t$form.find( 'button[type=\"submit\"]' ).addClass( 'updating-icon' );\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\tcomplete: function() {\n\t\t\t\t\t\t\t\t\t\t\t$form.find( 'button[type=\"submit\"]' ).removeClass( 'updating-icon' );\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t},\n\t\t\t\t\t\terror: function( MLHttpRequest, textStatus, errorThrown ) {\n\t\t\t\t\t\t\tconsole.log( errorThrown );\n\t\t\t\t\t\t},\n\t\t\t\t\t\tbeforeSend: function() {\n\t\t\t\t\t\t\t$( '.unicamp-popup' ).UnicampPopup( 'close' );\n\t\t\t\t\t\t\t$popupPreLoader.addClass( 'open' );\n\t\t\t\t\t\t},\n\t\t\t\t\t\tcomplete: function() {\n\t\t\t\t\t\t\t$popupPreLoader.removeClass( 'open' );\n\t\t\t\t\t\t}\n\t\t\t\t\t} );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfunction handlerRegister() {\n\t\t\t\tif ( $popupRegister.hasClass( 'popup-loaded' ) ) {\n\t\t\t\t\t$popupRegister.UnicampPopup( 'open' );\n\t\t\t\t} else {\n\t\t\t\t\t$.ajax( {\n\t\t\t\t\t\turl: $unicamp.ajaxurl,\n\t\t\t\t\t\ttype: 'GET',\n\t\t\t\t\t\tcache: false,\n\t\t\t\t\t\tdataType: 'html',\n\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\taction: 'unicamp_lazy_load_template',\n\t\t\t\t\t\t\ttemplate: $popupRegister.data( 'template' )\n\t\t\t\t\t\t},\n\t\t\t\t\t\tsuccess: function( response ) {\n\t\t\t\t\t\t\t$popupRegister.find( '.popup-content-inner' ).html( response );\n\t\t\t\t\t\t\t$popupRegister.addClass( 'popup-loaded' );\n\t\t\t\t\t\t\t$popupRegister.UnicampPopup( 'open' );\n\n\t\t\t\t\t\t\tvar $registerForm = $popupRegister.find( '#unicamp-register-form' );\n\t\t\t\t\t\t\t$registerForm.validate( {\n\t\t\t\t\t\t\t\trules: {\n\t\t\t\t\t\t\t\t\tfirstname: {\n\t\t\t\t\t\t\t\t\t\trequired: true,\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\tlastname: {\n\t\t\t\t\t\t\t\t\t\trequired: true,\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\tusername: {\n\t\t\t\t\t\t\t\t\t\trequired: true,\n\t\t\t\t\t\t\t\t\t\tminlength: 4,\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\temail: {\n\t\t\t\t\t\t\t\t\t\trequired: true,\n\t\t\t\t\t\t\t\t\t\temail: true\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\tpassword: {\n\t\t\t\t\t\t\t\t\t\trequired: true,\n\t\t\t\t\t\t\t\t\t\tminlength: 8,\n\t\t\t\t\t\t\t\t\t\tmaxlength: 30\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\tpassword2: {\n\t\t\t\t\t\t\t\t\t\trequired: true,\n\t\t\t\t\t\t\t\t\t\tminlength: 8,\n\t\t\t\t\t\t\t\t\t\tmaxlength: 30,\n\t\t\t\t\t\t\t\t\t\tequalTo: '#ip_reg_password',\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tsubmitHandler: function( form ) {\n\t\t\t\t\t\t\t\t\tvar $form = $( form );\n\n\t\t\t\t\t\t\t\t\t$.ajax( {\n\t\t\t\t\t\t\t\t\t\turl: $unicamp.ajaxurl,\n\t\t\t\t\t\t\t\t\t\ttype: 'POST',\n\t\t\t\t\t\t\t\t\t\tcache: false,\n\t\t\t\t\t\t\t\t\t\tdataType: 'json',\n\t\t\t\t\t\t\t\t\t\tdata: $form.serialize(),\n\t\t\t\t\t\t\t\t\t\tsuccess: function( response ) {\n\t\t\t\t\t\t\t\t\t\t\tif ( ! response.success ) {\n\t\t\t\t\t\t\t\t\t\t\t\t$form.find( '.form-response-messages' ).html( response.messages ).addClass( 'error' ).show();\n\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\t$form.find( '.form-response-messages' ).html( response.messages ).addClass( 'success' ).show();\n\t\t\t\t\t\t\t\t\t\t\t\tlocation.reload();\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\tbeforeSend: function() {\n\t\t\t\t\t\t\t\t\t\t\t$form.find( '.form-response-messages' ).html( '' ).removeClass( 'error success' ).hide();\n\t\t\t\t\t\t\t\t\t\t\t$form.find( 'button[type=\"submit\"]' ).addClass( 'updating-icon' );\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\tcomplete: function() {\n\t\t\t\t\t\t\t\t\t\t\t$form.find( 'button[type=\"submit\"]' ).removeClass( 'updating-icon' );\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t},\n\t\t\t\t\t\terror: function( MLHttpRequest, textStatus, errorThrown ) {\n\t\t\t\t\t\t\tconsole.log( errorThrown );\n\t\t\t\t\t\t},\n\t\t\t\t\t\tbeforeSend: function() {\n\t\t\t\t\t\t\t$( '.unicamp-popup' ).UnicampPopup( 'close' );\n\t\t\t\t\t\t\t$popupPreLoader.addClass( 'open' );\n\t\t\t\t\t\t},\n\t\t\t\t\t\tcomplete: function() {\n\t\t\t\t\t\t\t$popupPreLoader.removeClass( 'open' );\n\t\t\t\t\t\t}\n\t\t\t\t\t} );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfunction handlerLostPassword() {\n\t\t\t\tif ( $popupLostPassword.hasClass( 'popup-loaded' ) ) {\n\t\t\t\t\t$popupLostPassword.UnicampPopup( 'open' );\n\t\t\t\t} else {\n\t\t\t\t\t$.ajax( {\n\t\t\t\t\t\turl: $unicamp.ajaxurl,\n\t\t\t\t\t\ttype: 'GET',\n\t\t\t\t\t\tcache: false,\n\t\t\t\t\t\tdataType: 'html',\n\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\taction: 'unicamp_lazy_load_template',\n\t\t\t\t\t\t\ttemplate: $popupLostPassword.data( 'template' )\n\t\t\t\t\t\t},\n\t\t\t\t\t\tsuccess: function( response ) {\n\t\t\t\t\t\t\t$popupLostPassword.find( '.popup-content-inner' ).html( response );\n\t\t\t\t\t\t\t$popupLostPassword.addClass( 'popup-loaded' );\n\t\t\t\t\t\t\t$popupLostPassword.UnicampPopup( 'open' );\n\n\t\t\t\t\t\t\tvar $lostPasswordForm = $popupLostPassword.find( '#unicamp-lost-password-form' );\n\t\t\t\t\t\t\t$lostPasswordForm.submit( function( e ) {\n\t\t\t\t\t\t\t\te.preventDefault();\n\n\t\t\t\t\t\t\t\tvar $form = $( this );\n\n\t\t\t\t\t\t\t\t$.ajax( {\n\t\t\t\t\t\t\t\t\ttype: 'post',\n\t\t\t\t\t\t\t\t\turl: $unicamp.ajaxurl,\n\t\t\t\t\t\t\t\t\tdataType: 'json',\n\t\t\t\t\t\t\t\t\tdata: $form.serialize(),\n\t\t\t\t\t\t\t\t\tsuccess: function( response ) {\n\t\t\t\t\t\t\t\t\t\tif ( ! response.success ) {\n\t\t\t\t\t\t\t\t\t\t\t$form.find( '.form-response-messages' ).html( response.messages ).addClass( 'error' ).show();\n\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t$form.find( '.form-response-messages' ).html( response.messages ).addClass( 'success' ).show();\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\tbeforeSend: function() {\n\t\t\t\t\t\t\t\t\t\t$form.find( '.form-response-messages' ).html( '' ).removeClass( 'error success' ).hide();\n\t\t\t\t\t\t\t\t\t\t$form.find( 'button[type=\"submit\"]' ).addClass( 'updating-icon' );\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\tcomplete: function() {\n\t\t\t\t\t\t\t\t\t\t$form.find( 'button[type=\"submit\"]' ).removeClass( 'updating-icon' );\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t},\n\t\t\t\t\t\terror: function( MLHttpRequest, textStatus, errorThrown ) {\n\t\t\t\t\t\t\tconsole.log( errorThrown );\n\t\t\t\t\t\t},\n\t\t\t\t\t\tbeforeSend: function() {\n\t\t\t\t\t\t\t$( '.unicamp-popup' ).UnicampPopup( 'close' );\n\t\t\t\t\t\t\t$popupPreLoader.addClass( 'open' );\n\t\t\t\t\t\t},\n\t\t\t\t\t\tcomplete: function() {\n\t\t\t\t\t\t\t$popupPreLoader.removeClass( 'open' );\n\t\t\t\t\t\t}\n\t\t\t\t\t} );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfunction handlerInstructorRegister() {\n\t\t\t\tvar $popup = $( '#unicamp-popup-instructor-register' );\n\n\t\t\t\tif ( $popup.hasClass( 'popup-loaded' ) ) {\n\t\t\t\t\t$popup.UnicampPopup( 'open' );\n\t\t\t\t} else {\n\t\t\t\t\t$.ajax( {\n\t\t\t\t\t\turl: $unicamp.ajaxurl,\n\t\t\t\t\t\ttype: 'GET',\n\t\t\t\t\t\tcache: false,\n\t\t\t\t\t\tdataType: 'html',\n\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\taction: 'unicamp_lazy_load_template',\n\t\t\t\t\t\t\ttemplate: $popup.data( 'template' )\n\t\t\t\t\t\t},\n\t\t\t\t\t\tsuccess: function( response ) {\n\t\t\t\t\t\t\t$popup.find( '.popup-content-inner' ).html( response );\n\t\t\t\t\t\t\t$popup.addClass( 'popup-loaded' );\n\t\t\t\t\t\t\t$popup.UnicampPopup( 'open' );\n\n\t\t\t\t\t\t\tvar $form = $popup.find( 'form' );\n\t\t\t\t\t\t\t$form.validate( {\n\t\t\t\t\t\t\t\trules: {\n\t\t\t\t\t\t\t\t\tfullname: {\n\t\t\t\t\t\t\t\t\t\trequired: true,\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\temail: {\n\t\t\t\t\t\t\t\t\t\trequired: true,\n\t\t\t\t\t\t\t\t\t\temail: true\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\tpassword: {\n\t\t\t\t\t\t\t\t\t\trequired: true,\n\t\t\t\t\t\t\t\t\t\tminlength: 8,\n\t\t\t\t\t\t\t\t\t\tmaxlength: 30\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tsubmitHandler: function( form ) {\n\t\t\t\t\t\t\t\t\tvar $form = $( form );\n\n\t\t\t\t\t\t\t\t\t$.ajax( {\n\t\t\t\t\t\t\t\t\t\turl: $unicamp.ajaxurl,\n\t\t\t\t\t\t\t\t\t\ttype: 'POST',\n\t\t\t\t\t\t\t\t\t\tcache: false,\n\t\t\t\t\t\t\t\t\t\tdataType: 'json',\n\t\t\t\t\t\t\t\t\t\tdata: $form.serialize(),\n\t\t\t\t\t\t\t\t\t\tsuccess: function( response ) {\n\t\t\t\t\t\t\t\t\t\t\tif ( ! response.success ) {\n\t\t\t\t\t\t\t\t\t\t\t\t$form.find( '.form-response-messages' ).html( response.messages ).addClass( 'error' ).show();\n\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\t$form.find( '.form-response-messages' ).html( response.messages ).addClass( 'success' ).show();\n\n\t\t\t\t\t\t\t\t\t\t\t\tif ( response.redirect ) {\n\t\t\t\t\t\t\t\t\t\t\t\t\tlocation.reload();\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\tbeforeSend: function() {\n\t\t\t\t\t\t\t\t\t\t\t$form.find( '.form-response-messages' ).html( '' ).removeClass( 'error success' ).hide();\n\t\t\t\t\t\t\t\t\t\t\t$form.find( 'button[type=\"submit\"]' ).addClass( 'updating-icon' );\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\tcomplete: function() {\n\t\t\t\t\t\t\t\t\t\t\t$form.find( 'button[type=\"submit\"]' ).removeClass( 'updating-icon' );\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t},\n\t\t\t\t\t\terror: function( MLHttpRequest, textStatus, errorThrown ) {\n\t\t\t\t\t\t\tconsole.log( errorThrown );\n\t\t\t\t\t\t},\n\t\t\t\t\t\tbeforeSend: function() {\n\t\t\t\t\t\t\t$( '.unicamp-popup' ).UnicampPopup( 'close' );\n\t\t\t\t\t\t\t$popupPreLoader.addClass( 'open' );\n\t\t\t\t\t\t},\n\t\t\t\t\t\tcomplete: function() {\n\t\t\t\t\t\t\t$popupPreLoader.removeClass( 'open' );\n\t\t\t\t\t\t}\n\t\t\t\t\t} );\n\t\t\t\t}\n\t\t\t}\n\t\t} );\n\n\t}( jQuery )\n);\n"]}