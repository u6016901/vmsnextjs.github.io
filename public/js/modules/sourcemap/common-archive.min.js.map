{"version":3,"sources":["common-archive.js"],"names":["$","document","ready","$filterWidgets","$layoutSwitcher","$filterBtn","length","removeClass","stop","hide","find","children","not","wrap","on","e","preventDefault","this","hasClass","slideUp","addClass","slideDown","setTimeout","perfectScrollbar","suppressScrollX","parent","siblings","closest","submit","data","serialize","ajax","url","$unicamp","ajaxurl","type","dataType","success","results","location","reload","error","MLHttpRequest","textStatus","errorThrown","console","log","jQuery"],"mappings":"CAIA,SAAAA,gBAGAA,EAAAC,UAAAC,MAAA,WAKA,IAEAC,EA6BAC,EA9BAC,EAAAL,EAAA,mCACAG,EAAAH,EAAA,+BAEAK,EAAAC,QAAA,GAAAH,EAAAG,QAAA,IAIAH,EAAAI,YAAA,kBAAAC,OAAAC,OACAN,EAAAO,KAAA,WAAAC,WAAAC,IAAA,iBAAAC,KAAA,kCAEAV,EAAAO,KAAA,kBAAAH,YAAA,0BAEAF,EAAAS,GAAA,QAAA,SAAAC,GACAA,EAAAC,iBAEAhB,EAAAiB,MAAAC,SAAA,WACAlB,EAAAiB,MAAAV,YAAA,UACAJ,EAAAI,YAAA,kBAAAC,OAAAW,QAAA,OAEAnB,EAAAiB,MAAAG,SAAA,UACAjB,EAAAiB,SAAA,kBAAAZ,OAAAa,UAAA,MAGAC,WAAA,WACAnB,EAAAO,KAAA,WAAAC,SAAA,mBAAAY,iBAAA,CAAAC,iBAAA,KACA,QAKApB,EAAAJ,EAAA,4BAEAA,EAAA,oBAAAI,GAAAU,GAAA,SAAA,WACAd,EAAAiB,MAAAQ,OAAA,kBAAAC,WAAAnB,YAAA,WACAP,EAAAiB,MAAAQ,SAAAL,SAAA,WAEApB,EAAAiB,MAAAU,QAAA,QAAAC,WAGAxB,EAAAU,GAAA,SAAA,SAAAC,GACAA,EAAAC,iBAEAa,EAAA7B,EAAAiB,MAAAa,YAeA,OAbA9B,EAAA+B,KAAA,CACAC,IAAAC,SAAAC,QACAC,KAAA,OACAN,KAAAA,EACAO,SAAA,OACAC,QAAA,SAAAC,GACAC,SAAAC,UAEAC,MAAA,SAAAC,EAAAC,EAAAC,GACAC,QAAAC,IAAAF,OAIA,MAnEA,CAuEAG","file":"../../common-archive.min.js","sourcesContent":["/**\n * Functions for archive pages.\n */\n(\n\tfunction( $ ) {\n\t\t'use strict';\n\n\t\t$( document ).ready( function() {\n\t\t\tinitArchiveTopFilters();\n\t\t\tinitArchiveLayoutSwitcher();\n\t\t} );\n\n\t\tfunction initArchiveTopFilters() {\n\t\t\tvar $filterBtn = $( '#btn-toggle-archive-top-filters' );\n\t\t\tvar $filterWidgets = $( '#archive-top-filter-widgets' );\n\n\t\t\tif ( $filterBtn.length <= 0 || $filterWidgets.length <= 0 ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t$filterWidgets.removeClass( 'filters-opened' ).stop().hide();\n\t\t\t$filterWidgets.find( '.widget' ).children().not( '.widget-title' ).wrap( '<div class=\"widget-content\" />' );\n\n\t\t\t$filterWidgets.find( '.filter-swatch' ).removeClass( 'hint--bounce hint--top' );\n\n\t\t\t$filterBtn.on( 'click', function( e ) {\n\t\t\t\te.preventDefault();\n\n\t\t\t\tif ( $( this ).hasClass( 'active' ) ) {\n\t\t\t\t\t$( this ).removeClass( 'active' );\n\t\t\t\t\t$filterWidgets.removeClass( 'filters-opened' ).stop().slideUp( 350 );\n\t\t\t\t} else {\n\t\t\t\t\t$( this ).addClass( 'active' );\n\t\t\t\t\t$filterWidgets.addClass( 'filters-opened' ).stop().slideDown( 350 );\n\t\t\t\t}\n\n\t\t\t\tsetTimeout( function() {\n\t\t\t\t\t$filterWidgets.find( '.widget' ).children( '.widget-content' ).perfectScrollbar( { suppressScrollX: true } );\n\t\t\t\t}, 500 );\n\t\t\t} );\n\t\t}\n\n\t\tfunction initArchiveLayoutSwitcher() {\n\t\t\tvar $layoutSwitcher = $( '#archive-layout-switcher' );\n\n\t\t\t$( 'input[type=radio]', $layoutSwitcher ).on( 'change', function() {\n\t\t\t\t$( this ).parent( '.switcher-item' ).siblings().removeClass( 'loading' );\n\t\t\t\t$( this ).parent().addClass( 'loading' );\n\n\t\t\t\t$( this ).closest( 'form' ).submit();\n\t\t\t} );\n\n\t\t\t$layoutSwitcher.on( 'submit', function( e ) {\n\t\t\t\te.preventDefault();\n\n\t\t\t\tvar data = $( this ).serialize();\n\n\t\t\t\t$.ajax( {\n\t\t\t\t\turl: $unicamp.ajaxurl,\n\t\t\t\t\ttype: 'POST',\n\t\t\t\t\tdata: data,\n\t\t\t\t\tdataType: 'json',\n\t\t\t\t\tsuccess: function( results ) {\n\t\t\t\t\t\tlocation.reload();\n\t\t\t\t\t},\n\t\t\t\t\terror: function( MLHttpRequest, textStatus, errorThrown ) {\n\t\t\t\t\t\tconsole.log( errorThrown );\n\t\t\t\t\t},\n\t\t\t\t} );\n\n\t\t\t\treturn false;\n\t\t\t} );\n\t\t}\n\n\t}( jQuery )\n);\n"]}