{"version":3,"sources":["course-search-form.js"],"names":["$","document","ready","on","baseLink","this","attr","nameValue","find","val","addUrlParam","window","location","href","name","level","category","parseInt","search","key","encodeURI","re","RegExp","separator","indexOf","match","replace","jQuery"],"mappings":"CACA,SAAAA,gBAGAA,EAAAC,UAAAC,MAAA,WACAF,EAAA,yCAAAG,GAAA,SAAA,eAAA,WACA,IAAAC,EAAAJ,EAAAK,MAAAC,KAAA,UACAC,EAAAP,EAAAK,MAAAG,KAAA,6BAAAC,MASA,MAPA,KAAAF,IACAH,EAAAM,EAAAN,EAAA,cAAAG,GACAH,EAAAM,EAAAN,EAAA,YAAA,MAGAO,OAAAC,SAAAC,KAAAT,GAEA,IAGAJ,EAAA,yCAAAG,GAAA,SAAA,OAAA,WACA,IAAAC,EAAAJ,EAAAK,MAAAC,KAAA,UACAQ,EAAAd,EAAAK,MAAAG,KAAA,6BAAAC,MACAM,EAAAf,EAAAK,MAAAG,KAAA,kBAAAC,MACAO,EAAAC,SAAAjB,EAAAK,MAAAG,KAAA,mCAAAC,OACAG,EAAAK,SAAAjB,EAAAK,MAAAG,KAAA,mCAAAC,OAwBA,MAtBA,KAAAK,IACAV,EAAAM,EAAAN,EAAA,cAAAU,GACAV,EAAAM,EAAAN,EAAA,YAAA,MAGA,IAAAY,IACAZ,EAAAM,EAAAN,EAAA,yBAAAY,GACAZ,EAAAM,EAAAN,EAAA,YAAA,MAGA,IAAAQ,IACAR,EAAAM,EAAAN,EAAA,yBAAAQ,GACAR,EAAAM,EAAAN,EAAA,YAAA,MAGA,KAAAW,IACAX,EAAAM,EAAAN,EAAA,QAAAW,GACAX,EAAAM,EAAAN,EAAA,YAAA,MAGAO,OAAAC,SAAAC,KAAAT,GAEA,MAUA,IAAAM,EAAA,SAAAQ,EAAAC,EAAAV,GACAU,EAAAC,UAAAD,GACAV,EAAAW,UAAAX,GAEA,IAAAY,EAAA,IAAAC,OAAA,SAAAH,EAAA,YAAA,KACAI,GAAA,IAAAL,EAAAM,QAAA,KAAA,IAAA,IASA,OANAN,EAAAO,MAAAJ,GACAH,EAAAA,EAAAQ,QAAAL,EAAA,KAAAF,EAAA,IAAAV,EAAA,MAEAS,GAAAK,EAAAJ,EAAA,IAAAV,EAGAS,GAxEA,CA2EAS","file":"../../../tutor/course-search-form.min.js","sourcesContent":["(\n\tfunction( $ ) {\n\t\t'use strict';\n\n\t\t$( document ).ready( function() {\n\t\t\t$( '.unicamp-wp-widget-course-name-filter' ).on( 'submit', '.search-form', function() {\n\t\t\t\tvar baseLink = $( this ).attr( 'action' );\n\t\t\t\tvar nameValue = $( this ).find( 'input[name=\"filter_name\"]' ).val();\n\n\t\t\t\tif ( '' !== nameValue ) {\n\t\t\t\t\tbaseLink = addUrlParam( baseLink, 'filter_name', nameValue );\n\t\t\t\t\tbaseLink = addUrlParam( baseLink, 'filtering', '1' );\n\t\t\t\t}\n\n\t\t\t\twindow.location.href = baseLink;\n\n\t\t\t\treturn false;\n\t\t\t} );\n\n\t\t\t$( '.unicamp-wp-widget-course-form-filter' ).on( 'submit', 'form', function() {\n\t\t\t\tvar baseLink = $( this ).attr( 'action' );\n\t\t\t\tvar name = $( this ).find( 'input[name=\"filter_name\"]' ).val();\n\t\t\t\tvar level = $( this ).find( '[name=\"level\"]' ).val();\n\t\t\t\tvar category = parseInt( $( this ).find( '[name=\"filter_course-category\"]' ).val() );\n\t\t\t\tvar location = parseInt( $( this ).find( '[name=\"filter_course-location\"]' ).val() );\n\n\t\t\t\tif ( '' !== name ) {\n\t\t\t\t\tbaseLink = addUrlParam( baseLink, 'filter_name', name );\n\t\t\t\t\tbaseLink = addUrlParam( baseLink, 'filtering', '1' );\n\t\t\t\t}\n\n\t\t\t\tif ( 0 !== category ) {\n\t\t\t\t\tbaseLink = addUrlParam( baseLink, 'filter_course-category', category );\n\t\t\t\t\tbaseLink = addUrlParam( baseLink, 'filtering', '1' );\n\t\t\t\t}\n\n\t\t\t\tif ( 0 !== location ) {\n\t\t\t\t\tbaseLink = addUrlParam( baseLink, 'filter_course-location', location );\n\t\t\t\t\tbaseLink = addUrlParam( baseLink, 'filtering', '1' );\n\t\t\t\t}\n\n\t\t\t\tif ( '' !== level ) {\n\t\t\t\t\tbaseLink = addUrlParam( baseLink, 'level', level );\n\t\t\t\t\tbaseLink = addUrlParam( baseLink, 'filtering', '1' );\n\t\t\t\t}\n\n\t\t\t\twindow.location.href = baseLink;\n\n\t\t\t\treturn false;\n\t\t\t} );\n\t\t} );\n\n\t\t/**\n\t\t * Add a URL parameter (or changing it if it already exists)\n\t\t * @param {string} search - This is typically document.location.search\n\t\t * @param {string} key - The key to set\n\t\t * @param {string} val - Value\n\t\t */\n\t\tvar addUrlParam = function( search, key, val ) {\n\t\t\tkey = encodeURI( key );\n\t\t\tval = encodeURI( val );\n\n\t\t\tvar re = new RegExp( \"([?&])\" + key + \"=.*?(&|$)\", \"i\" );\n\t\t\tvar separator = search.indexOf( '?' ) !== - 1 ? \"&\" : \"?\";\n\n\t\t\t// Update value if key exist.\n\t\t\tif ( search.match( re ) ) {\n\t\t\t\tsearch = search.replace( re, '$1' + key + \"=\" + val + '$2' );\n\t\t\t} else {\n\t\t\t\tsearch += separator + key + '=' + val;\n\t\t\t}\n\n\t\t\treturn search;\n\t\t};\n\n\t}( jQuery )\n);\n"]}