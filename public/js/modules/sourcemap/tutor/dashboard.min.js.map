{"version":3,"sources":["dashboard.js"],"names":["$","document","ready","on","e","preventDefault","$that","this","review_id","closest","attr","nonce_key","_tutorobject","json_data","rating","find","val","review","trim","action","ajax","url","ajaxurl","type","data","beforeSend","addClass","success","removeClass","location","reload","complete","withdrawMethodInput","show","each","is","jQuery"],"mappings":"CACA,SAAAA,gBAGAA,EAAAC,UAAAC,MAAA,WAIAF,EAAAC,UAAAE,GAAA,SAAA,mCAAA,SAAAC,GACAA,EAAAC,iBAEA,IAAAC,EAAAN,EAAAO,MACAC,EAAAF,EAAAG,QAAA,kCAAAC,KAAA,kBAEAC,EAAAC,aAAAD,UAMAE,EAAA,CACAL,UAAAA,EACAM,OANAR,EAAAS,KAAA,wCAAAC,MAOAC,OANAX,EAAAS,KAAA,2BAAAC,MACAE,OAMAC,OAAA,+BAEAN,EAAAF,GAAAC,aAAAD,GAEAX,EAAAoB,KAAA,CACAC,IAAAT,aAAAU,QACAC,KAAA,OACAC,KAAAX,EACAY,WAAA,WACAnB,EAAAS,KAAA,yBAAAW,SAAA,2BAEAC,QAAA,SAAAH,GACAA,EAAAG,UAEA3B,EAAA,iCAAA4B,YAAA,QACAC,SAAAC,QAAA,KAGAC,SAAA,WACAzB,EAAAS,KAAA,yBAAAa,YAAA,+BAKA,IAAAI,EAAAhC,EAAA,iCAEAgC,EAAA7B,GAAA,SAAA,SAAAC,GACAJ,EAAA,mCAAAiC,SAGAD,EAAAE,KAAA,WACAlC,EAAAO,MACA4B,GAAA,aACAnC,EAAA,mCAAAiC,WAzDA,CA6DAG","file":"../../../tutor/dashboard.min.js","sourcesContent":["(\n\tfunction( $ ) {\n\t\t'use strict';\n\n\t\t$( document ).ready( function() {\n\t\t\t/**\n\t\t\t * Edition version of edit review form on dashboard.\n\t\t\t */\n\t\t\t$( document ).on( 'submit', '#custom_tutor_update_review_form', function( e ) {\n\t\t\t\te.preventDefault();\n\n\t\t\t\tvar $that = $( this );\n\t\t\t\tvar review_id = $that.closest( '.tutor-edit-review-modal-wrap ' ).attr( 'data-review-id' );\n\n\t\t\t\tvar nonce_key = _tutorobject.nonce_key;\n\n\t\t\t\tvar rating = $that.find( 'input[name=\"tutor_rating_gen_input\"]' ).val();\n\t\t\t\tvar review = $that.find( 'textarea[name=\"review\"]' ).val();\n\t\t\t\treview = review.trim();\n\n\t\t\t\tvar json_data = {\n\t\t\t\t\treview_id: review_id,\n\t\t\t\t\trating: rating,\n\t\t\t\t\treview: review,\n\t\t\t\t\taction: 'unicamp_update_review_modal' // Custom ajax action\n\t\t\t\t};\n\t\t\t\tjson_data[ nonce_key ] = _tutorobject[ nonce_key ];\n\n\t\t\t\t$.ajax( {\n\t\t\t\t\turl: _tutorobject.ajaxurl,\n\t\t\t\t\ttype: 'POST',\n\t\t\t\t\tdata: json_data,\n\t\t\t\t\tbeforeSend: function() {\n\t\t\t\t\t\t$that.find( 'button[type=\"submit\"]' ).addClass( 'tutor-updating-message' );\n\t\t\t\t\t},\n\t\t\t\t\tsuccess: function( data ) {\n\t\t\t\t\t\tif ( data.success ) {\n\t\t\t\t\t\t\t// Close the modal.\n\t\t\t\t\t\t\t$( '.tutor-edit-review-modal-wrap' ).removeClass( 'show' );\n\t\t\t\t\t\t\tlocation.reload( true );\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tcomplete: function() {\n\t\t\t\t\t\t$that.find( 'button[type=\"submit\"]' ).removeClass( 'tutor-updating-message' );\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t\t} );\n\n\t\t\tvar withdrawMethodInput = $( '.withdraw-method-select-input' );\n\n\t\t\twithdrawMethodInput.on( 'change', function( e ) {\n\t\t\t\t$( '.withdraw-account-save-btn-wrap' ).show();\n\t\t\t} );\n\n\t\t\twithdrawMethodInput.each( function() {\n\t\t\t\tvar $that = $( this );\n\t\t\t\tif ( $that.is( ':checked' ) ) {\n\t\t\t\t\t$( '.withdraw-account-save-btn-wrap' ).show();\n\t\t\t\t}\n\t\t\t} );\n\t\t} );\n\t}( jQuery )\n);\n"]}