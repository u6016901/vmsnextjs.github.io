{"version":3,"sources":["general.js"],"names":["$","$body","handleDashboardMenuBar","window","innerWidth","addClass","removeClass","navContentHeight","innerHeight","outerHeight","height","perfectScrollbar","suppressScrollX","document","ready","on","e","$button","preventDefault","hasClass","courseId","this","attr","ajax","url","$unicamp","ajaxurl","type","data","course_id","action","beforeSend","children","success","$buttonWrapper","parent","status","$unicampCourseWishlist","addedText","find","text","addText","location","redirect_to","complete","$that","rating","closest","val","review","trim","_tutorobject","review_id","html","reload","toggleClass","evt","target","id","length","jQuery"],"mappings":"CACA,SAAAA,gBAGA,IAAAC,EAAAD,EAAA,QA0IA,SAAAE,IAGA,MAFAC,OAAAC,YAGAH,EAAAI,SAAA,uBAEAJ,EAAAK,YAAA,yBAEAL,EAAAK,YAAA,uBAGA,IAGAC,EAHAJ,OAAAK,YACAR,EAAA,yBAAAS,cACA,GAGAT,EAAA,gCAAAU,OAAAH,GAAAI,iBAAA,CAAAC,iBAAA,IAxJAZ,EAAAa,UAAAC,MAAA,WAIAd,EAAAa,UAAAE,GAAA,QAAA,+BAAA,SAAAC,GAGA,IACAC,EAHAD,EAAAE,iBAEAlB,EAAA,QAAAmB,SAAA,eAEAC,GADAH,EAAAjB,EAAAqB,OACAC,KAAA,kBAEAtB,EAAAuB,KAAA,CACAC,IAAAC,SAAAC,QACAC,KAAA,OACAC,KAAA,CACAC,UAAAT,EACAU,OAAA,gCAEAC,WAAA,WACAd,EAAAe,SAAA,2BAAA3B,SAAA,kBAEA4B,QAAA,SAAAL,GACA,IACAM,EADAN,EAAAK,SACAC,EAAAjB,EAAAkB,OAAA,sBAEA,UAAAP,EAAAA,KAAAQ,QACAF,EAAAZ,KAAA,aAAAe,uBAAAC,WACAJ,EAAA7B,SAAA,SAEAY,EAAAZ,SAAA,mBACAY,EAAAsB,KAAA,gBAAAC,KAAAH,uBAAAC,aAEAJ,EAAAZ,KAAA,aAAAe,uBAAAI,SACAP,EAAA5B,YAAA,SAEAW,EAAAX,YAAA,mBACAW,EAAAsB,KAAA,gBAAAC,KAAAH,uBAAAI,WAGAtC,OAAAuC,SAAAd,EAAAA,KAAAe,aAGAC,SAAA,WACA3B,EAAAe,SAAA,2BAAA1B,YAAA,uBASAN,EAAAa,UAAAE,GAAA,QAAA,kCAAA,SAAAC,GACAA,EAAAE,iBACA,IAAA2B,EAAA7C,EAAAqB,MACAyB,EAAAD,EAAAE,QAAA,QAAAR,KAAA,wCAAAS,MAEAC,GADAA,EAAAJ,EAAAE,QAAA,QAAAR,KAAA,2BAAAS,OACAE,OAEArB,EAAA7B,EAAA,iCAAAgD,MAQAC,GACAjD,EAAAuB,KAAA,CACAC,IAAA2B,aAAAzB,QACAC,KAAA,OACAC,KAXA,CACAC,UAAAA,EACAiB,OAAAA,EACAG,OAAAA,EACAnB,OAAA,wBAQAC,WAAA,WACAc,EAAAxC,SAAA,kBAEA4B,QAAA,SAAAL,GACA,IAAAwB,EAAAxB,EAAAA,KAAAwB,UACAH,EAAArB,EAAAA,KAAAqB,OACAjD,EAAA,iBAAAoD,EAAA,oBAAAC,KAAAJ,GACAP,SAAAY,cAMAtD,EAAA,8BAAAe,GAAA,QAAA,WACAd,EAAAsD,YAAA,uBAGAvD,EAAAa,UAAAE,GAAA,QAAA,yBAAA,WACAd,EAAAK,YAAA,uBAGAN,EAAAa,UAAAE,GAAA,QAAA,SAAAyC,GACA,yBAAAA,EAAAC,OAAAC,KAIA1D,EAAAwD,EAAAC,QAAAV,QAAA,yBAAAY,QAIA3D,EAAAwD,EAAAC,QAAAV,QAAA,8BAAAY,QAIA,KAAAxD,OAAAC,YAIAH,EAAAK,YAAA,wBAGAN,EAAA,iCAAAe,GAAA,QAAA,WACAd,EAAAsD,YAAA,0BAGAvD,EAAA,8BAAAe,GAAA,QAAA,SAAAyC,GACA,0BAAAA,EAAAC,OAAAC,KAIA1D,EAAAwD,EAAAC,QAAAV,QAAA,0BAAAY,QAIA1D,EAAAK,YAAA,2BAGAJ,IAEAF,EAAAG,QAAAY,GAAA,SAAA,WACAb,QA1IA,CAgKA0D","file":"../../../tutor/general.min.js","sourcesContent":["(\n\tfunction( $ ) {\n\t\t'use strict';\n\n\t\tvar $body = $( 'body' );\n\n\t\t$( document ).ready( function() {\n\t\t\t/**\n\t\t\t * Edition version of wishlist function.\n\t\t\t */\n\t\t\t$( document ).on( 'click', '.unicamp-course-wishlist-btn', function( e ) {\n\t\t\t\te.preventDefault();\n\n\t\t\t\tif ( $( 'body' ).hasClass( 'logged-in' ) ) {\n\t\t\t\t\tvar $button = $( this );\n\t\t\t\t\tvar courseId = $button.attr( 'data-course-id' );\n\n\t\t\t\t\t$.ajax( {\n\t\t\t\t\t\turl: $unicamp.ajaxurl,\n\t\t\t\t\t\ttype: 'POST',\n\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\tcourse_id: courseId,\n\t\t\t\t\t\t\t'action': 'tutor_course_add_to_wishlist'\n\t\t\t\t\t\t},\n\t\t\t\t\t\tbeforeSend: function() {\n\t\t\t\t\t\t\t$button.children( '.button-content-wrapper' ).addClass( 'updating-icon' );\n\t\t\t\t\t\t},\n\t\t\t\t\t\tsuccess: function( data ) {\n\t\t\t\t\t\t\tif ( data.success ) {\n\t\t\t\t\t\t\t\tvar $buttonWrapper = $button.parent( '.tm-button-wrapper' );\n\n\t\t\t\t\t\t\t\tif ( data.data.status === 'added' ) {\n\t\t\t\t\t\t\t\t\t$buttonWrapper.attr( 'aria-label', $unicampCourseWishlist.addedText );\n\t\t\t\t\t\t\t\t\t$buttonWrapper.addClass( 'added' );\n\n\t\t\t\t\t\t\t\t\t$button.addClass( 'has-wish-listed' );\n\t\t\t\t\t\t\t\t\t$button.find( '.button-text' ).text( $unicampCourseWishlist.addedText );\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t$buttonWrapper.attr( 'aria-label', $unicampCourseWishlist.addText );\n\t\t\t\t\t\t\t\t\t$buttonWrapper.removeClass( 'added' );\n\n\t\t\t\t\t\t\t\t\t$button.removeClass( 'has-wish-listed' );\n\t\t\t\t\t\t\t\t\t$button.find( '.button-text' ).text( $unicampCourseWishlist.addText );\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\twindow.location = data.data.redirect_to;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tcomplete: function() {\n\t\t\t\t\t\t\t$button.children( '.button-content-wrapper' ).removeClass( 'updating-icon' );\n\t\t\t\t\t\t}\n\t\t\t\t\t} );\n\t\t\t\t}\n\t\t\t} );\n\n\t\t\t/**\n\t\t\t * Edition version of edit review form in single.\n\t\t\t */\n\t\t\t$( document ).on( 'click', '.custom_tutor_submit_review_btn', function( e ) {\n\t\t\t\te.preventDefault();\n\t\t\t\tvar $that = $( this );\n\t\t\t\tvar rating = $that.closest( 'form' ).find( 'input[name=\"tutor_rating_gen_input\"]' ).val();\n\t\t\t\tvar review = $that.closest( 'form' ).find( 'textarea[name=\"review\"]' ).val();\n\t\t\t\treview = review.trim();\n\n\t\t\t\tvar course_id = $( 'input[name=\"tutor_course_id\"]' ).val();\n\t\t\t\tvar data = {\n\t\t\t\t\tcourse_id: course_id,\n\t\t\t\t\trating: rating,\n\t\t\t\t\treview: review,\n\t\t\t\t\taction: 'unicamp_place_rating'\n\t\t\t\t};\n\n\t\t\t\tif ( review ) {\n\t\t\t\t\t$.ajax( {\n\t\t\t\t\t\turl: _tutorobject.ajaxurl,\n\t\t\t\t\t\ttype: 'POST',\n\t\t\t\t\t\tdata: data,\n\t\t\t\t\t\tbeforeSend: function() {\n\t\t\t\t\t\t\t$that.addClass( 'updating-icon' );\n\t\t\t\t\t\t},\n\t\t\t\t\t\tsuccess: function( data ) {\n\t\t\t\t\t\t\tvar review_id = data.data.review_id;\n\t\t\t\t\t\t\tvar review = data.data.review;\n\t\t\t\t\t\t\t$( '.tutor-review-' + review_id + ' .review-content' ).html( review );\n\t\t\t\t\t\t\tlocation.reload();\n\t\t\t\t\t\t}\n\t\t\t\t\t} );\n\t\t\t\t}\n\t\t\t} );\n\n\t\t\t$( '.btn-toggle-lesson-sidebar' ).on( 'click', function() {\n\t\t\t\t$body.toggleClass( 'lesson-sidebar-on' );\n\t\t\t} );\n\n\t\t\t$( document ).on( 'click', '.tutor-single-lesson-a', function() {\n\t\t\t\t$body.removeClass( 'lesson-sidebar-on' );\n\t\t\t} );\n\n\t\t\t$( document ).on( 'click', function( evt ) {\n\t\t\t\tif ( evt.target.id === 'tutor-lesson-sidebar' ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif ( $( evt.target ).closest( '#tutor-lesson-sidebar' ).length ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif ( $( evt.target ).closest( '.btn-toggle-lesson-sidebar' ).length ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif ( window.innerWidth >= 992 ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t$body.removeClass( 'lesson-sidebar-on' );\n\t\t\t} );\n\n\t\t\t$( '.dashboard-header-toggle-menu' ).on( 'click', function() {\n\t\t\t\t$body.toggleClass( 'dashboard-nav-opened' );\n\t\t\t} );\n\n\t\t\t$( '#tutor-dashboard-left-menu' ).on( 'click', function( evt ) {\n\t\t\t\tif ( evt.target.id === 'dashboard-nav-wrapper' ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif ( $( evt.target ).closest( '#dashboard-nav-wrapper' ).length ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t$body.removeClass( 'dashboard-nav-opened' );\n\t\t\t} );\n\n\t\t\thandleDashboardMenuBar();\n\n\t\t\t$( window ).on( 'resize', function() {\n\t\t\t\thandleDashboardMenuBar();\n\t\t\t} );\n\t\t} );\n\n\t\tfunction handleDashboardMenuBar() {\n\t\t\tvar wWidth = window.innerWidth;\n\n\t\t\tif ( wWidth >= 1200 ) {\n\t\t\t\t$body.addClass( 'dashboard-nav-fixed' );\n\t\t\t\t// Fix when resize from mobile to desktop.\n\t\t\t\t$body.removeClass( 'dashboard-nav-opened' );\n\t\t\t} else {\n\t\t\t\t$body.removeClass( 'dashboard-nav-fixed' );\n\t\t\t}\n\n\t\t\tvar wHeight = window.innerHeight;\n\t\t\tvar navHeaderHeight = $( '.dashboard-nav-header' ).outerHeight();\n\t\t\tvar bottomSpacing = 50;\n\t\t\tvar navContentHeight = wHeight - navHeaderHeight - bottomSpacing;\n\n\t\t\t$( '.dashboard-nav-content-inner' ).height( navContentHeight ).perfectScrollbar( { suppressScrollX: true } );\n\t\t}\n\t}( jQuery )\n);\n"]}